#!/bin/bash
declare -a ignore

ignore+=('\.git')
ignore+=('\.cpan')
ignore+=('\.svn')
ignore+=('node_modules')
ignore+=('chromium.*')
ignore+=('\.mozilla')
ignore+=('\.Android.*')
ignore+=('\.android')
ignore+=('\.cache')
ignore+=('\.mail')
ignore+=('znc\/users')
ignore+=('\.Genymobile')
ignore+=('\.local\/var\/abs')
ignore+=('\.nv')
ignore+=('\.gem')
ignore+=('\.gnome')
ignore+=('\.?gnupg')
ignore+=('\.lpass')
ignore+=('\.lastpass')
ignore+=('jaagr\/\.npm')
ignore+=('var\/pkgbuilds\/')
ignore+=('vimperator\/plugins')
ignore+=('lib\/perl5')
ignore+=('\.eclipse')
ignore+=('\.?wine')
ignore+=('\.local\/share')
ignore+=('\.metadata')
ignore+=('vim\/bundle')
ignore+=('nvim\/contrib.*')
ignore+=('src\/golang\.org')
ignore+=('downloads')
ignore+=('.*\.bak')
ignore+=('\.local\/src\/c++\/.*\.bak\/')
ignore+=('\.local\/etc.bak\/')
ignore+=('\.local\/etc.old\/')

ignore_list=$(printf '\|%s' "${ignore[@]}")
ignore_list=$(printf '.*\/\(%s\).*' "${ignore_list:2}")

exec find "$1" -type f -not -regex "$ignore_list" | sed -r 's/\.local\/(bin|etc|lib|src|var)\//\1\//'
